<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="QuickThrift Admin Panel - Manage your thrift store inventory and orders">
  <meta name="keywords" content="admin, inventory management, thrift store, quickthrift">
  <meta name="author" content="QuickThrift">
  
  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#6366f1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="QuickThrift Admin">
  <meta name="mobile-web-app-capable" content="yes">
  
  <!-- Open Graph Tags -->
  <meta property="og:title" content="Admin Panel - QuickThrift">
  <meta property="og:description" content="Manage your thrift store inventory and orders">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://quickthrift.netlify.app/admin.html">
  
  <title>Admin Panel - QuickThrift | Inventory Management</title>
  
  <!-- Favicon and Icons -->
  <link rel="icon" type="image/x-icon" href="/icons/icon-192x192.png">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
  <link rel="manifest" href="/manifest.json">
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="styles-modular.css">
  <link rel="stylesheet" href="css/admin.css">
  <link rel="preload" href="css/guza-style.css" as="style">
</head>
<body class="admin-body">
  <!-- Skip to main content for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <header class="header admin-header">
    <div class="container">
      <div class="header-content">
        <div class="logo-container">
          <h1 class="logo">
            <a href="index.html" class="logo-link" aria-label="QuickThrift Home">
              <span class="logo-icon">⚙️</span>QuickThrift Admin
            </a>
          </h1>
        </div>
        
        <!-- Mobile menu button -->
        <button class="mobile-menu-btn" aria-label="Toggle admin menu" aria-expanded="false">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
        
        <!-- Admin Navigation -->
        <nav class="nav admin-nav" role="navigation" aria-label="Admin navigation">
          <ul class="nav-list">
            <li><a href="index.html" class="nav-link">🏠 Home</a></li>
            <li><a href="#products" class="nav-link">📦 Products</a></li>
            <li><a href="#orders" class="nav-link">📋 Orders</a></li>
            <li><a href="#users" class="nav-link">👥 Users</a></li>
            <li><a href="#analytics" class="nav-link">📊 Analytics</a></li>
            <li><a href="sign-in-new.html" class="nav-link logout-link">🚪 Logout</a></li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

  <main id="main-content" class="admin-main">
    <div class="container">
      <!-- Admin Dashboard Header -->
      <section class="admin-dashboard-header">
        <div class="dashboard-welcome">
          <h1 class="dashboard-title">Admin Dashboard</h1>
          <p class="dashboard-subtitle">Manage your QuickThrift store</p>
        </div>
        <div class="dashboard-stats">
          <div class="stat-card">
            <div class="stat-icon">📦</div>
            <div class="stat-info">
              <span class="stat-number" id="total-products">0</span>
              <span class="stat-label">Products</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">📋</div>
            <div class="stat-info">
              <span class="stat-number" id="total-orders">0</span>
              <span class="stat-label">Orders</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">👥</div>
            <div class="stat-info">
              <span class="stat-number" id="total-users">0</span>
              <span class="stat-label">Users</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">💰</div>
            <div class="stat-info">
              <span class="stat-number" id="total-revenue">$0</span>
              <span class="stat-label">Revenue</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Quick Actions -->
      <section class="quick-actions-admin">
        <h2 class="section-title">Quick Actions</h2>
        <div class="action-grid">
          <button class="action-card" onclick="showAddProductModal()">
            <div class="action-icon">➕</div>
            <div class="action-text">Add Product</div>
          </button>
          <button class="action-card" onclick="viewOrders()">
            <div class="action-icon">📋</div>
            <div class="action-text">View Orders</div>
          </button>
          <button class="action-card" onclick="manageUsers()">
            <div class="action-icon">👥</div>
            <div class="action-text">Manage Users</div>
          </button>
          <button class="action-card" onclick="viewAnalytics()">
            <div class="action-icon">📊</div>
            <div class="action-text">Analytics</div>
          </button>
        </div>
      </section>

      <!-- Products Management Section -->
      <section id="products" class="admin-section">
        <div class="section-header">
          <h2 class="section-title">Product Management</h2>
          <button class="btn primary" onclick="showAddProductModal()">
            <span class="btn-icon">➕</span>Add New Product
          </button>
        </div>

        <!-- Product Filters -->
        <div class="admin-filters">
          <div class="filter-group">
            <label for="category-filter-admin">Filter by Category:</label>
            <select id="category-filter-admin" class="filter-select">
              <option value="">All Categories</option>
              <option value="Women">Women's</option>
              <option value="Men">Men's</option>
              <option value="Kids">Kids</option>
              <option value="Shoes">Shoes</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="status-filter">Filter by Status:</label>
            <select id="status-filter" class="filter-select">
              <option value="">All Status</option>
              <option value="active">Active</option>
              <option value="inactive">Inactive</option>
              <option value="sold">Sold</option>
            </select>
          </div>
          <div class="search-group">
            <input type="text" id="product-search" placeholder="Search products..." class="search-input">
            <button class="search-btn">🔍</button>
          </div>
        </div>

        <!-- Products Table -->
        <div class="table-container">
          <table class="admin-table" id="products-table">
            <thead>
              <tr>
                <th>Image</th>
                <th>Name</th>
                <th>Category</th>
                <th>Price</th>
                <th>Status</th>
                <th>Added</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="products-list">
              <!-- Products will be dynamically populated -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- Orders Management Section -->
      <section id="orders" class="admin-section">
        <div class="section-header">
          <h2 class="section-title">Order Management</h2>
          <div class="order-stats">
            <span class="order-stat">Pending: <strong id="pending-orders">0</strong></span>
            <span class="order-stat">Completed: <strong id="completed-orders">0</strong></span>
          </div>
        </div>

        <!-- Orders Table -->
        <div class="table-container">
          <table class="admin-table" id="orders-table">
            <thead>
              <tr>
                <th>Order ID</th>
                <th>Customer</th>
                <th>Items</th>
                <th>Total</th>
                <th>Status</th>
                <th>Date</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="orders-list">
              <!-- Orders will be dynamically populated -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- Users Management Section -->
      <section id="users" class="admin-section">
        <div class="section-header">
          <h2 class="section-title">User Management</h2>
          <div class="user-stats">
            <span class="user-stat">Active Users: <strong id="active-users">0</strong></span>
            <span class="user-stat">New This Month: <strong id="new-users">0</strong></span>
          </div>
        </div>

        <!-- Users Table -->
        <div class="table-container">
          <table class="admin-table" id="users-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Join Date</th>
                <th>Orders</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="users-list">
              <!-- Users will be dynamically populated -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- Analytics Section -->
      <section id="analytics" class="admin-section">
        <div class="section-header">
          <h2 class="section-title">Analytics & Reports</h2>
        </div>
        
        <div class="analytics-grid">
          <div class="analytics-card">
            <h3>Sales Overview</h3>
            <div class="chart-placeholder">
              <div class="chart-bar" style="height: 60%"></div>
              <div class="chart-bar" style="height: 80%"></div>
              <div class="chart-bar" style="height: 40%"></div>
              <div class="chart-bar" style="height: 90%"></div>
              <div class="chart-bar" style="height: 70%"></div>
            </div>
            <p class="chart-caption">Sales trend over the last 5 months</p>
          </div>
          
          <div class="analytics-card">
            <h3>Popular Categories</h3>
            <div class="category-stats">
              <div class="category-stat">
                <span class="category-name">Women's</span>
                <div class="category-bar">
                  <div class="category-fill" style="width: 75%"></div>
                </div>
                <span class="category-percent">75%</span>
              </div>
              <div class="category-stat">
                <span class="category-name">Men's</span>
                <div class="category-bar">
                  <div class="category-fill" style="width: 60%"></div>
                </div>
                <span class="category-percent">60%</span>
              </div>
              <div class="category-stat">
                <span class="category-name">Kids</span>
                <div class="category-bar">
                  <div class="category-fill" style="width: 45%"></div>
                </div>
                <span class="category-percent">45%</span>
              </div>
              <div class="category-stat">
                <span class="category-name">Shoes</span>
                <div class="category-bar">
                  <div class="category-fill" style="width: 55%"></div>
                </div>
                <span class="category-percent">55%</span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- Add Product Modal -->
  <div id="add-product-modal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Add New Product</h2>
        <button class="modal-close" onclick="closeAddProductModal()" aria-label="Close modal">×</button>
      </div>
      
      <form id="add-product-form" class="admin-form">
        <div class="form-row">
          <div class="form-group">
            <label for="product-name">Product Name *</label>
            <input type="text" id="product-name" name="product-name" placeholder="Enter product name" required>
          </div>
          <div class="form-group">
            <label for="product-brand">Brand</label>
            <input type="text" id="product-brand" name="product-brand" placeholder="Enter brand name">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="main-category">Main Category *</label>
            <select id="main-category" name="main-category" required>
              <option value="" disabled selected>Select a main category</option>
              <option value="Women">Women's</option>
              <option value="Men">Men's</option>
              <option value="Kids">Kids</option>
              <option value="Shoes">Shoes</option>
            </select>
          </div>
          <div class="form-group">
            <label for="sub-category">Subcategory *</label>
            <select id="sub-category" name="sub-category" required>
              <option value="" disabled selected>Select a subcategory</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="product-size">Size</label>
            <select id="product-size" name="product-size">
              <option value="">Select size</option>
              <option value="XS">XS</option>
              <option value="S">S</option>
              <option value="M">M</option>
              <option value="L">L</option>
              <option value="XL">XL</option>
              <option value="XXL">XXL</option>
            </select>
          </div>
          <div class="form-group">
            <label for="product-condition">Condition *</label>
            <select id="product-condition" name="product-condition" required>
              <option value="" disabled selected>Select condition</option>
              <option value="New">New</option>
              <option value="Like New">Like New</option>
              <option value="Excellent">Excellent</option>
              <option value="Very Good">Very Good</option>
              <option value="Good">Good</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="product-price">Price ($) *</label>
            <input type="number" id="product-price" name="product-price" placeholder="0.00" step="0.01" min="0" required>
          </div>
          <div class="form-group">
            <label for="original-price">Original Price ($)</label>
            <input type="number" id="original-price" name="original-price" placeholder="0.00" step="0.01" min="0">
          </div>
        </div>

        <div class="form-group">
          <label for="product-description">Description</label>
          <textarea id="product-description" name="product-description" placeholder="Enter product description" rows="3"></textarea>
        </div>

        <div class="form-group">
          <label for="product-image">Product Images *</label>
          <input type="file" id="product-image" name="product-image" accept="image/*" multiple required>
          <small class="form-help">You can select multiple images</small>
        </div>

        <div class="form-actions">
          <button type="button" class="btn secondary" onclick="closeAddProductModal()">Cancel</button>
          <button type="submit" class="btn primary">Add Product</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Loading Overlay -->
  <div id="loading-overlay" class="loading-overlay" aria-hidden="true">
    <div class="loading-spinner"></div>
    <p>Processing...</p>
  </div>

  <footer class="footer admin-footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3 class="footer-title">QuickThrift Admin</h3>
          <p class="footer-description">Manage your sustainable fashion business.</p>
        </div>
        <div class="footer-section">
          <h4 class="footer-subtitle">Admin Tools</h4>
          <ul class="footer-links">
            <li><a href="#products">Product Management</a></li>
            <li><a href="#orders">Order Management</a></li>
            <li><a href="#users">User Management</a></li>
            <li><a href="#analytics">Analytics</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4 class="footer-subtitle">Support</h4>
          <ul class="footer-links">
            <li><a href="#help">Help Center</a></li>
            <li><a href="#contact">Contact Support</a></li>
            <li><a href="#docs">Documentation</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 QuickThrift Admin Panel. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="admin-auth.js"></script>
  <script src="admin.js"></script>
  <script src="quickthrift-functional.js"></script>
  
  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then((registration) => {
            console.log('SW registered: ', registration);
          })
          .catch((registrationError) => {
            console.log('SW registration failed: ', registrationError);
          });
      });
    }
  </script>
</body>
</html>