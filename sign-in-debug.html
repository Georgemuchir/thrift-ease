<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In - QuickThrift (No Cache)</title>
    <!-- Force no cache -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="header">
    <div class="logo-container">
      <h1 class="logo">QuickThrift</h1>
    </div>
  </header>

  <main>
    <section class="auth-section">
      <h1>Sign In to Your Account</h1>
      
      <!-- Demo credentials info -->
      <div style="background: #e7f3ff; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #b3d9ff;">
        <h3 style="margin: 0 0 10px 0; color: #0066cc;">Demo Account</h3>
        <p style="margin: 5px 0; font-size: 14px;"><strong>Email:</strong> demo@thrifteasy.com</p>
        <p style="margin: 5px 0; font-size: 14px;"><strong>Password:</strong> demo123</p>
        <p style="margin: 10px 0 0 0; font-size: 12px; color: #666;">Use these credentials to test the application</p>
      </div>

      <!-- Debug info -->
      <div id="debug-info" style="background: #f8f9fa; padding: 10px; border-radius: 4px; margin-bottom: 15px; font-size: 12px;">
        <strong>Debug Info:</strong>
        <div id="api-status">Loading...</div>
        <div id="console-log" style="max-height: 100px; overflow-y: auto; margin-top: 5px;"></div>
      </div>
      
      <form id="sign-in-form" class="auth-form">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="Enter your email" required>

        <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="Enter your password" required>

        <button type="submit" class="auth-button">Sign In</button>
      </form>
      <p>Don't have an account? <a href="sign-up.html">Sign Up</a></p>
    </section>
  </main>

  <footer class="footer">
    <p>&copy; 2025 QuickThrift. All rights reserved.</p>
  </footer>

  <!-- Force fresh load -->
  <script>
    document.write('<script src="api-service-new.js?v=' + Date.now() + '"><\/script>');
    document.write('<script src="sign-in.js?v=' + Date.now() + '"><\/script>');
  </script>
  
  <script>
    // Debug logging to page
    const originalLog = console.log;
    const originalError = console.error;
    const logDiv = document.getElementById('console-log');
    
    function addToPage(message, type = 'log') {
      if (logDiv) {
        const div = document.createElement('div');
        div.style.color = type === 'error' ? 'red' : 'black';
        div.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
        logDiv.appendChild(div);
        logDiv.scrollTop = logDiv.scrollHeight;
      }
    }
    
    console.log = function(...args) {
      originalLog.apply(console, args);
      addToPage(args.join(' '));
    };
    
    console.error = function(...args) {
      originalError.apply(console, args);
      addToPage(args.join(' '), 'error');
    };
    
    // Monitor API status
    function updateAPIStatus() {
      const statusDiv = document.getElementById('api-status');
      if (statusDiv) {
        if (window.ThriftEaseAPI) {
          statusDiv.innerHTML = `âœ… API Loaded - Ready: ${window.ThriftEaseAPI.isReady}`;
          statusDiv.style.color = 'green';
        } else {
          statusDiv.innerHTML = 'âŒ API Not Loaded';
          statusDiv.style.color = 'red';
        }
      }
    }
    
    // Check every 500ms
    setInterval(updateAPIStatus, 500);
    
    // Listen for API ready
    window.addEventListener('ThriftEaseAPIReady', () => {
      console.log('ðŸŽ‰ ThriftEaseAPIReady event received!');
    });
    
    console.log('ðŸš€ Debug sign-in page loaded');
  </script>
</body>
</html>
